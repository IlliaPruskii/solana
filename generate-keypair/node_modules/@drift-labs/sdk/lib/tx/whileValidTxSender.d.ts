/// <reference types="node" />
import { ExtraConfirmationOptions, TxSigAndSlot } from './types';
import { AddressLookupTableAccount, Commitment, ConfirmOptions, Connection, Signer, Transaction, TransactionInstruction, VersionedTransaction } from '@solana/web3.js';
import { IWallet } from '../types';
import { BaseTxSender } from './baseTxSender';
type ResolveReference = {
    resolve?: () => void;
};
export declare class WhileValidTxSender extends BaseTxSender {
    connection: Connection;
    wallet: IWallet;
    opts: ConfirmOptions;
    timeout: number;
    retrySleep: number;
    additionalConnections: Connection[];
    timoutCount: number;
    untilValid: Map<string, {
        blockhash: string;
        lastValidBlockHeight: number;
    }>;
    blockhashCommitment: Commitment;
    constructor({ connection, wallet, opts, retrySleep, additionalConnections, additionalTxSenderCallbacks, blockhashCommitment, }: {
        connection: Connection;
        wallet: IWallet;
        opts?: ConfirmOptions;
        retrySleep?: number;
        additionalConnections?: any;
        additionalTxSenderCallbacks?: ((base58EncodedTx: string) => void)[];
        blockhashCommitment?: Commitment;
    });
    sleep(reference: ResolveReference): Promise<void>;
    prepareTx(tx: Transaction, additionalSigners: Array<Signer>, opts: ConfirmOptions, preSigned?: boolean): Promise<Transaction>;
    getVersionedTransaction(ixs: TransactionInstruction[], lookupTableAccounts: AddressLookupTableAccount[], _additionalSigners?: Array<Signer>, _opts?: ConfirmOptions, blockhash?: string): Promise<VersionedTransaction>;
    sendVersionedTransaction(tx: VersionedTransaction, additionalSigners?: Array<Signer>, opts?: ConfirmOptions, preSigned?: boolean, extraConfirmationOptions?: ExtraConfirmationOptions): Promise<TxSigAndSlot>;
    sendRawTransaction(rawTransaction: Buffer | Uint8Array, opts: ConfirmOptions): Promise<TxSigAndSlot>;
}
export {};
